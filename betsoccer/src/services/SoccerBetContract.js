import Web3Access from './Web3Access';

const ABI = [{"constant": false,"inputs": [{"name": "_matcheId","type": "string"},{"name": "_against","type": "address"},{"name": "_unlockBetTime","type": "uint256"},{"name": "_amount","type": "uint256"}],"name": "cancelBet","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"name": "_matcheId","type": "string"},{"name": "_sender","type": "address"},{"name": "_unlockBetTime","type": "uint256"},{"name": "_amount","type": "uint256"}],"name": "comfirmBet","outputs": [],"payable": true,"stateMutability": "payable","type": "function"},{"constant": false,"inputs": [{"name": "_matcheId","type": "string"},{"name": "_against","type": "address"},{"name": "_unlockBetTime","type": "uint256"},{"name": "_creatorBetHomeTeamWin","type": "bool"}],"name": "createBet","outputs": [],"payable": true,"stateMutability": "payable","type": "function"},{"constant": false,"inputs": [{"name": "_matcheId","type": "string"},{"name": "_sender","type": "address"},{"name": "_against","type": "address"},{"name": "_unlockBetTime","type": "uint256"},{"name": "_amount","type": "uint256"}],"name": "finishBet","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"name": "_matcheId","type": "string"},{"name": "_sender","type": "address"},{"name": "_against","type": "address"},{"name": "_unlockBetTime","type": "uint256"},{"name": "_amount","type": "uint256"}],"name": "finishBetWithPayingLink","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"name": "_requestId","type": "bytes32"},{"name": "_homeTeamWon","type": "bool"}],"name": "fulfillMatchResult","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [],"name": "renounceOwnership","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"name": "_dest","type": "address"}],"name": "transferBenefits","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"name": "_newOwner","type": "address"}],"name": "transferOwnership","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"inputs": [{"name": "_oracleAddress","type": "address"},{"name": "_jobId","type": "string"},{"name": "_linkToken","type": "address"}],"payable": false,"stateMutability": "nonpayable","type": "constructor"},{"anonymous": false,"inputs": [{"indexed": true,"name": "requestId","type": "bytes32"},{"indexed": true,"name": "_homeTeamWon","type": "bool"}],"name": "RequestMatchResultFulfilled","type": "event"},{"anonymous": false,"inputs": [{"indexed": false,"name": "matcheId","type": "string"},{"indexed": false,"name": "sender","type": "address"},{"indexed": false,"name": "against","type": "address"},{"indexed": false,"name": "unlockBetTime","type": "uint256"},{"indexed": false,"name": "amount","type": "uint256"}],"name": "BetCreated","type": "event"},{"anonymous": false,"inputs": [{"indexed": false,"name": "matcheId","type": "string"},{"indexed": false,"name": "sender","type": "address"},{"indexed": false,"name": "against","type": "address"},{"indexed": false,"name": "unlockBetTime","type": "uint256"},{"indexed": false,"name": "amount","type": "uint256"}],"name": "BetCanceled","type": "event"},{"anonymous": false,"inputs": [{"indexed": false,"name": "matcheId","type": "string"},{"indexed": false,"name": "sender","type": "address"},{"indexed": false,"name": "against","type": "address"},{"indexed": false,"name": "unlockBetTime","type": "uint256"},{"indexed": false,"name": "amount","type": "uint256"}],"name": "BetConfirmed","type": "event"},{"anonymous": false,"inputs": [{"indexed": false,"name": "matcheId","type": "string"},{"indexed": false,"name": "sender","type": "address"},{"indexed": false,"name": "against","type": "address"},{"indexed": false,"name": "unlockBetTime","type": "uint256"},{"indexed": false,"name": "amount","type": "uint256"}],"name": "FinishBetEvent","type": "event"},{"anonymous": false,"inputs": [{"indexed": false,"name": "matcheId","type": "string"},{"indexed": false,"name": "sender","type": "address"},{"indexed": false,"name": "against","type": "address"},{"indexed": false,"name": "unlockBetTime","type": "uint256"},{"indexed": false,"name": "amount","type": "uint256"}],"name": "BetFinished","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"name": "previousOwner","type": "address"}],"name": "OwnershipRenounced","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"name": "previousOwner","type": "address"},{"indexed": true,"name": "newOwner","type": "address"}],"name": "OwnershipTransferred","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"name": "id","type": "bytes32"}],"name": "ChainlinkRequested","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"name": "id","type": "bytes32"}],"name": "ChainlinkFulfilled","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"name": "id","type": "bytes32"}],"name": "ChainlinkCancelled","type": "event"},{"constant": true,"inputs": [],"name": "defaultOracleAddress","outputs": [{"name": "","type": "address"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "getAllBetId","outputs": [{"name": "","type": "bytes32[]"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"name": "_betId","type": "bytes32"}],"name": "getBetFromBetId","outputs": [{"components": [{"name": "creator","type": "address"},{"name": "adversary","type": "address"},{"name": "betAmount","type": "uint256"},{"name": "unlockBetTime","type": "uint256"},{"name": "matcheId","type": "string"},{"name": "creatorBetHomeTeamWin","type": "bool"},{"name": "state","type": "uint8"}],"name": "","type": "tuple"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "jobId","outputs": [{"name": "","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "owner","outputs": [{"name": "","type": "address"}],"payable": false,"stateMutability": "view","type": "function"}]

const Address = "0x7599AB7dCE4F416FF88238b74627E43C90fD4c99";
// const Address = "0x066DaF35220e5142A87971f7E60aE8564174bF30";

class SoccerBetContract {

    contract;

    constructor() {
        this.contract = new (Web3Access.GetInstance().web3.eth).Contract(ABI, Address)
    }

    static Instance;

    static GetInstance() {
        if(SoccerBetContract.Instance === undefined) {
            SoccerBetContract.Instance = new SoccerBetContract();
        }
        return SoccerBetContract.Instance;
    }

}

export default SoccerBetContract;